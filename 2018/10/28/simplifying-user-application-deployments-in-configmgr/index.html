<!DOCTYPE html>
<html lang="en-us">
	    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="keyword"  content="ConfigMgr Microsoft MVP Gross Intune Windows">
        <meta name="viewport" content="width=device-width">
        <link rel="shortcut icon" href="/img/favicon.ico">
        <title>Simplifying User Application Deployments in ConfigMgr-A Square Dozen | A. Gross Blog</title>

        <meta name="description" content="A.Gross Blog | Adam Gross Enterprise Mobility MVP">
        

        
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DYVXTRTXN4"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-DYVXTRTXN4', { 'anonymize_ip': false });
}
</script>

        <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://blog.asquaredozen.com/105"/>

<meta name="twitter:title" content="Simplifying User Application Deployments in ConfigMgr"/>
<meta name="twitter:description" content="There are numerous types of application and deployment options in ConfigMgr/SCCM today. Everything from traditional MSI to the new MSIX and Windows Store apps. Throw in Co-Management and Intune and you get even more options. Deployments can be targeted to specific devices and users. Most companies use some mix of these to get software onto devices. Some people even still refuse to use the Application model in ConfigMgr in favor of the Package model because of that one time they had trouble with it back in 2012."/>


        <link rel="canonical" href="/2018/10/28/simplifying-user-application-deployments-in-configmgr/">
        <link rel="stylesheet" href="/css/style.css">
        <link rel="stylesheet" href="/css/code.css">
        

        
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet" type="text/css">
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>

        <script src="js/asd.js"></script>

        
        

        
    </head>
		<body class="home blog">
			<div id="asd-container">
				
				
<div id="top-bar">
    <div class="container">
        <div id="nav-wrapper">
                <ul class="menu" id="menu-top-menu">
                    <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                        <a href="/">Home</a>
                    </li>
                    
                    
                        
                            <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                <a href="#">
                                    
                                    <span>Feature Updates</span>
                                </a>
                                <ul class="sub-menu menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2019/08/22/windows-10-feature-updates-leveraging-setupdiag-for-better-reporting/">Windows 10 Feature Updates – Leveraging SetupDiag for Better Reporting</a>
                                        </li>
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2019/10/05/windows-10-feature-updates-the-challenge-of-servicing-in-the-enterprise/">Windows 10 Feature Updates – The Challenge of Servicing in the Enterprise</a>
                                        </li>
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2019/08/25/windows-10-feature-updates-using-custom-action-scripts/">Windows 10 Feature Updates – Using Custom Action Scripts</a>
                                        </li>
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2019/08/25/windows-10-feature-updates-using-setupconfig-ini-to-manage-feature-updates-in-the-enterprise/">Windows 10 Feature Updates – Using Setupconfig.ini to Manage Feature Updates in the Enterprise</a>
                                        </li>
                                    
                                </ul>
                            </li>
                        
                    
                        
                            <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                <a href="/2019/02/12/the-system-center-configuration-manager-adminservice-guide/">
                                    
                                    <span>ConfigMgr AdminService</span>
                                </a>
                            </li>
                        
                    
                        
                            <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                <a href="#">
                                    
                                    <span>802.1x for OSD</span>
                                </a>
                                <ul class="sub-menu menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2018/07/29/configuring-802-1x-authentication-for-windows-deployment-part-1-building-an-802-1x-computer-authentication-script/">Part 1 – Building an 802.1x Computer Authentication Script</a>
                                        </li>
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2018/07/29/configuring-802-1x-authentication-for-windows-deployment-part-2-building-an-802-1x-enabled-winpe-boot-image/">Part 2 – Building an 802.1x Enabled WinPE Boot Image</a>
                                        </li>
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2018/07/29/configuring-802-1x-authentication-for-windows-deployment-part-3-integrating-802-1x-authentication-into-a-bare-metal-task-sequence/">Part 3 – Integrating 802.1x Authentication into a Bare Metal Task Sequence</a>
                                        </li>
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2018/07/29/configuring-802-1x-authentication-for-windows-deployment-part-4-integrating-802-1x-authentication-into-an-in-place-upgrade-task-sequence/">Part 4 – Integrating 802.1x Authentication into an In-Place Upgrade Task Sequence</a>
                                        </li>
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2018/09/29/configuring-802-1x-authentication-for-windows-deployment-part-5-dynamic-whitelisting-using-the-cisco-ise-external-restful-service/">Part 5 – Dynamic Whitelisting using the Cisco ISE External RESTful Service</a>
                                        </li>
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2018/07/29/configuring-802-1x-authentication-for-windows-deployment-tips-and-tricks/">Tips and Tricks</a>
                                        </li>
                                    
                                </ul>
                            </li>
                        
                    
                        
                            <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                <a href="#">
                                    
                                    <span>Task Sequence Hacks</span>
                                </a>
                                <ul class="sub-menu menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2018/11/29/building-a-better-task-sequence/">Building a Better Task Sequence</a>
                                        </li>
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2019/04/30/building-a-smarter-task-sequence/">Building a Smarter Task Sequence</a>
                                        </li>
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2018/12/14/building-an-even-better-task-sequence/">Building An Even Better Task Sequence</a>
                                        </li>
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2018/07/16/clearing-local-group-policies-during-an-windows-7-to-10-in-place-upgrade-task-sequence/">Clearing Local Group Policies during an Windows 7 to 10 In-Place Upgrade Task Sequence</a>
                                        </li>
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2018/10/03/debugging-sccm-configmgr-task-sequences-on-the-fly/">Debugging SCCM/ConfigMgr Task Sequences on the Fly</a>
                                        </li>
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2018/07/11/dynamically-updating-unattend-xml-during-an-osd-task-sequence-using-mdt-variables-and-zti-scripts/">Dynamically Updating Unattend.XML during an OSD Task Sequence using MDT Variables and ZTI Scripts.</a>
                                        </li>
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2018/06/14/triggering-configmgr-client-actions-from-a-task-sequence/">Triggering ConfigMgr Client Actions from a Task Sequence</a>
                                        </li>
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/2018/08/27/using-sccm-task-sequence-variables-as-scripts/">Using SCCM Task Sequence Variables as Scripts</a>
                                        </li>
                                    
                                </ul>
                            </li>
                        
                    
                        
                            <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                <a href="https://github.com/AdamGrossTX">
                                    
                                    <span>GitHub</span>
                                </a>
                            </li>
                        
                    
                        
                            <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                <a href="#">
                                    
                                    <span>MORE&gt;</span>
                                </a>
                                <ul class="sub-menu menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/about/">About</a>
                                        </li>
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/consulting/">Consulting</a>
                                        </li>
                                    
                                        <li class=" menu-item menu-item-type-custom menu-item-object-custom menu-item-home">
                                            <a href="/contact/">Contact</a>
                                        </li>
                                    
                                </ul>
                            </li>
                        
                    
                
                </ul>
        </div>
        <div class="menu" id="menu-mobile"></div>
    </div>
    <div id="top-search">
        <a href="#" class="search"><i class="fa fa-search"></i></a>
        <div class="show-search">
            <form role="search" method="get" action="https://www.google.com/search" id="searchform">
                <input type="search" placeholder="Search and hit enter..." value="" name="s" id="s" title="Search and hit enter...">
                <input type="hidden" name="sitesearch" value="asquaredozen.com">
                <button type="submit" value="Search"/>
            </form>
        </div>
    </div>
</div>
				<header id="header" class="noslider">
	<div class="container">
		<div id="logo">
			<h1><a href="https://blog.asquaredozen.com"><img src="/img/A-Square-Dozen-Logo-BlogHeader-1.png" alt="A Square Dozen" /></a></h1>
		</div>
	</div>
</header>
				<div class="container">
					<div id="content">
						<div id="main">
							
		<article class="post type-post status-publish format-standard has-post-thumbnail hentry">
			<div class="post-header">
				<h1>Simplifying User Application Deployments in ConfigMgr</h1>
				<span class="post-date">October 28, 2018</span>
			</div>
			<div class="post-entry">
				<p>There are numerous types of application and deployment options in <strong>ConfigMgr/SCCM</strong> today. Everything from traditional <strong>MSI</strong> to the new <strong>MSIX</strong> and <strong>Windows Store</strong> apps. Throw in <strong>Co-Management</strong> and <strong>Intune</strong> and you get even more options. Deployments can be targeted to specific devices and users. Most companies use some mix of these to get software onto devices. Some people even still refuse to use the <strong>Application</strong> model in <strong>ConfigMgr</strong> in favor of the <strong>Package</strong> model because of that one time they had trouble with it back in <strong>2012</strong>.</p>
<p>For today&rsquo;s adventure, I decided that I wanted to understand how to make <strong>User</strong> applications show up in <strong>Software Center</strong> (All testing was done on 1806 and 1810 TP <a href="https://docs.microsoft.com/sccm/core/plan-design/changes/whats-new-in-version-1806#software-center-infrastructure-improvements">without the Application Catalog role installed</a>). I had been trying to instruct our Licensing team on how to help users who call about missing applications in <strong>Software Center</strong>. I started digging and ended up here.</p>
<h2 id="ad-group-based-user-collection">AD Group Based User Collection</h2>
<p>Recently on <strong>Twitter</strong>, we had some <a href="https://twitter.com/AdamGrossTX/status/1054402376843644929">great discussion</a> about using <strong>Active Directory Security Groups</strong> as direct (instead of query membership) members in <strong>ConfigMgr</strong> user collections and several people were surprised that this was an option or were just doing it an a sub-optimal way using query memberships. There&rsquo;s great write-up by <a href="https://twitter.com/znackattack">Nicke Källén</a> about it <a href="https://www.applepie.se/configmgr-user-collection-and-direct-membership-for-security-group"><strong>here</strong></a> that got me on the right track months ago. If you haven&rsquo;t read it, you should do that before proceeding because this information will build on that post.</p>
<p>In Active Directory, create new security group called <strong>App - Google Chrome</strong>.
<div class="image">

<a href="2018-10-27_22-56-58.jpg" target="_blank">
  <img src="2018-10-27_22-56-58.jpg" alt="A Square Dozen Image">
</a>

</div></p>
<p>All of my user application collections will start with the <strong>App -</strong> prefix to enable me to quickly identify them in AD and in the ConfigMgr console.</p>
<p>![It&rsquo;s very hard to find that ONE group hidden amongst all of these other groups in my lab!](2018-10-27_23-07-24.jpg &ldquo;It&rsquo;s very hard to find that ONE group hidden amongst all of these other groups in my lab!&quot;]</p>
<p>Enable <strong>Active Directory Group Discovery</strong> in <strong>ConfigMgr</strong> as well. Once you have created the AD group, either manually run <strong>Active Directory Group Discovery</strong> or wait until it runs the next time to allow it to import your new group.</p>
<p><div class="image">

<a href="2018-10-28_14-19-21.jpg" target="_blank">
  <img src="2018-10-28_14-19-21.jpg" alt="A Square Dozen Image">
</a>

</div></p>
<p>Navigate to the <strong>Users</strong> (there&rsquo;s no User Groups node, filter by <strong>Resource Type</strong>) node in the console and you should see your new AD Group.</p>
<p><div class="image">

<a href="2018-10-27_23-10-39.jpg" target="_blank">
  <img src="2018-10-27_23-10-39.jpg" alt="A Square Dozen Image">
</a>

</div></p>
<p>In the <strong>ConfigMgr</strong> console, create a new User Collection called <strong>Google Chrome</strong>. Set the limiting collection to <strong>All User Groups</strong> (unless you plan to add user direct User memberships as well as Groups). Then add a <strong>Direct</strong> rule. Select <strong>AD Group Resource</strong> then type % into the search box and click Search. You should see your new group.</p>
<p><div class="image">

<a href="2018-10-27_23-33-13.jpg" target="_blank">
  <img src="2018-10-27_23-33-13.jpg" alt="A Square Dozen Image">
</a>

</div></p>
<p>Select the group and complete the wizard and close the collection.  Once the collection membership updates, the AD group should be the only member.</p>
<p><div class="image">

<a href="2018-10-27_23-33-39.jpg" target="_blank">
  <img src="2018-10-27_23-33-39.jpg" alt="A Square Dozen Image">
</a>

</div></p>
<p><div class="image">

<a href="2018-10-28_14-24-44.jpg" target="_blank">
  <img src="2018-10-28_14-24-44.jpg" alt="A Square Dozen Image">
</a>

</div></p>
<p><div class="image">

<a href="2018-10-28_14-25-47.jpg" target="_blank">
  <img src="2018-10-28_14-25-47.jpg" alt="A Square Dozen Image">
</a>

</div></p>
<h2 id="deploying-applications-to-user-collections">Deploying Applications to User Collections</h2>
<p>For this example, I have create a standard MSI application for <strong>Google Chrome for Enterprise</strong>, but any application will work. Simply create a new <strong>Available</strong> deployment to your new user collection. I will touch on <strong>Required</strong> in a moment.</p>
<p><div class="image">

<a href="2018-10-27_23-13-17.jpg" target="_blank">
  <img src="2018-10-27_23-13-17.jpg" alt="A Square Dozen Image">
</a>

</div></p>
<h2 id="instant-application-delivery">Instant Application Delivery</h2>
<p>At this stage, you have an AD group with no users, a User Collection and a deployment to that collection. You should be logged in with your test account and have <strong>Software Center</strong> closed. Add your test account to your AD Security group.
<div class="image">

<a href="2018-10-27_23-36-57.jpg" target="_blank">
  <img src="2018-10-27_23-36-57.jpg" alt="A Square Dozen Image">
</a>

</div></p>
<p><strong>Wait however long you think your AD replication takes</strong>. In my lab, there&rsquo;s no delay, so this is immediate. <strong>Lock</strong> then <strong>Unlock</strong> Windows. <strong>Open Software Center</strong>. Your app should be there.</p>
<p><div class="image">

<a href="2018-10-27_23-42-15.jpg" target="_blank">
  <img src="2018-10-27_23-42-15.jpg" alt="A Square Dozen Image">
</a>

</div></p>
<p>User Available Application Using AD Security Group Membership
<div class="image">

<a href="2018-10-28_22-56-19.gif" target="_blank">
  <img src="2018-10-28_22-56-19.gif" alt="User Available Application Using AD Security Group Membership">
</a>

</div></p>
<h2 id="lets-look-at-the-logs">Let&rsquo;s Look at the Logs</h2>
<p>To see what&rsquo;s going on, first, remove your user account from the AD group then <strong>Lock</strong> and <strong>Unlock</strong> again.
Open <strong>PolicyAgent.log</strong> in <strong>CMTrace</strong> and check the box to Ignore existing lines so you can get a fresh look. Open <strong>Software Center</strong>. The application should be gone. Now check the log. (Note, my account is not a member of any AD groups at this moment.) Here&rsquo;s what you should see.</p>
<p><div class="image">

<a href="2018-10-27_23-29-56.jpg" target="_blank">
  <img src="2018-10-27_23-29-56.jpg" alt="A Square Dozen Image">
</a>

</div></p>
<p>These are the key entries we are looking for:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ini" data-lang="ini"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="1"><a style="outline: none; text-decoration:none; color:inherit" href="#1">1</a></span><span style="color:#008080">Processing Unlock event for user S-1-5-21-580727801-4233579299-3272402431-500</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="2"><a style="outline: none; text-decoration:none; color:inherit" href="#2">2</a></span><span style="color:#008080">Triggered requesting user policy assignments for &#39;S-1-5-21-580727801-4233579299-3272402431-500&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="3"><a style="outline: none; text-decoration:none; color:inherit" href="#3">3</a></span><span style="color:#008080">...</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="4"><a style="outline: none; text-decoration:none; color:inherit" href="#4">4</a></span><span style="color:#008080">Received User delta policy update with 0 assignments</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="5"><a style="outline: none; text-decoration:none; color:inherit" href="#5">5</a></span><span style="color:#008080">...</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="6"><a style="outline: none; text-decoration:none; color:inherit" href="#6">6</a></span><span style="color:#008080">User &#39;S-1-5-21-580727801-4233579299-3272402431-500&#39; is not member of any Domain Security Groups</span>
</code></pre></div><p>As you can see, the <strong>Unlock</strong> event triggers a <strong>User Policy</strong> update. To me, this is <strong>the hidden gem</strong> in the whole process. Understanding that a machine unlock event will trigger a user policy update, helps communicate a simple process to users who request software.</p>
<p>Now, add the Test user account back to the <strong>AD Group</strong> and <strong>repeat</strong> the process. <strong>PolicyAgent.log</strong> will show that your account was a member of X security groups in the previous entry and the new entry will show X+1. During this refresh, <strong>PolicyAgent</strong> checked for new group memberships and then performed a delta policy update. However, unlike Machine policies where you can look in WMI and see all of the advertisements listed, this policy update is only concerned about your AD Group membership.</p>
<p>Next, switch over to the most current <strong>SCClient</strong> log. Mine is called <strong>SCClient_tp@Adam_2.log</strong>. When you open <strong>Software Center</strong>, you can see SCClient checking WMI for applications then it also uses the <strong>CMUserService_WindowsAuth</strong> web service to check for user advertisements.</p>
<p><div class="image">

<a href="2018-10-27_23-30-29.jpg" target="_blank">
  <img src="2018-10-27_23-30-29.jpg" alt="A Square Dozen Image">
</a>

</div></p>
<p>At this point, I spent hours digging through WMI and even mounting the SQL Compact Edition databases that the <strong>ConfigMgr</strong> client uses and I never found any indication of <strong>User Available</strong> applications on the device until they get installed. To test my web query theory (stop rhyming now, I mean it!), I disconnected my NIC then opened <strong>Software Center</strong>. All <strong>User Available</strong> applications disappeared!! This behavior further confirms that they <strong>User Available</strong> applications in <strong>Software Center</strong> are truly dynamic.</p>
<p>Then I watched the DB using <strong>SQL Query Analyzer</strong> and found that the client uses a query to check for User Advertisements. You can see that it calls the Stored Procedure <strong>usp_GetApplicationsTargetedToUserFiltered</strong> and passes in the user SID as well as the AD Security Group SIDs that it discovered when you unlocked the device.</p>
<p>Then I watched the DB using <strong>SQL Query Analyzer</strong> and found that the client uses a query to check for User Advertisements. You can see that it calls the Stored Procedure <strong>usp_GetApplicationsTargetedToUserFiltered</strong> and passes in the user SID as well as the AD Security Group SIDs that it discovered when you unlocked the device.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-SQL" data-lang="SQL"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="1"><a style="outline: none; text-decoration:none; color:inherit" href="#1"> 1</a></span><span style="color:#000;font-weight:bold">exec</span><span style="color:#bbb"> </span>[dbo].[usp_GetApplicationsTargetedToUserFiltered]<span style="color:#bbb"> 
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="2"><a style="outline: none; text-decoration:none; color:inherit" href="#2"> 2</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span><span style="color:#000;font-weight:bold">User</span><span style="color:#000;font-weight:bold">=</span>N<span style="color:#d14">&#39;S-1-5-21-580727801-4233579299-3272402431-500&#39;</span>,<span style="color:#bbb">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="3"><a style="outline: none; text-decoration:none; color:inherit" href="#3"> 3</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span>UserGroupSids<span style="color:#000;font-weight:bold">=</span>N<span style="color:#d14">&#39;S-1-5-21-580727801-4233579299-3272402431-513,S-1-1-0,S-1-5-32-544,S-1-5-32-545,S-1-5-32-554,S-1-5-32-574,S-1-5-2,S-1-5-11,S-1-5-15,S-1-5-21-580727801-4233579299-3272402431-512,S-1-5-21-580727801-4233579299-3272402431-520,S-1-5-21-580727801-4233579299-3272402431-519,S-1-5-21-580727801-4233579299-3272402431-5125,S-1-5-21-580727801-4233579299-3272402431-518,S-1-18-1,S-1-5-21-580727801-4233579299-3272402431-572,S-1-5-21-580727801-4233579299-3272402431-1131&#39;</span>,<span style="color:#bbb">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="4"><a style="outline: none; text-decoration:none; color:inherit" href="#4"> 4</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span>AadUser<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">NULL</span>,<span style="color:#bbb">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="5"><a style="outline: none; text-decoration:none; color:inherit" href="#5"> 5</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span>AadTenantId<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">NULL</span>,<span style="color:#bbb">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="6"><a style="outline: none; text-decoration:none; color:inherit" href="#6"> 6</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span>ClientGuid<span style="color:#000;font-weight:bold">=</span>N<span style="color:#d14">&#39;GUID:24362202-9757-4405-A9DC-A49C7FDF5DBE&#39;</span>,<span style="color:#bbb">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="7"><a style="outline: none; text-decoration:none; color:inherit" href="#7"> 7</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span>LocaleID<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1033</span>,<span style="color:#bbb">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="8"><a style="outline: none; text-decoration:none; color:inherit" href="#8"> 8</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span>SortColumnID<span style="color:#000;font-weight:bold">=</span><span style="color:#099">21</span>,<span style="color:#bbb">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="9"><a style="outline: none; text-decoration:none; color:inherit" href="#9"> 9</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span>SortValue<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>,<span style="color:#bbb">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="10"><a style="outline: none; text-decoration:none; color:inherit" href="#10">10</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span>SecondarySort<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>,<span style="color:#bbb">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="11"><a style="outline: none; text-decoration:none; color:inherit" href="#11">11</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span>FilterCategoryValue<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">NULL</span>,<span style="color:#bbb">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="12"><a style="outline: none; text-decoration:none; color:inherit" href="#12">12</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span>FilterPublisherValue<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">NULL</span>,<span style="color:#bbb">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="13"><a style="outline: none; text-decoration:none; color:inherit" href="#13">13</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span>Featured<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">NULL</span>,<span style="color:#bbb">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="14"><a style="outline: none; text-decoration:none; color:inherit" href="#14">14</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span>ClassicAppNameFields<span style="color:#000;font-weight:bold">=</span><span style="color:#099">2</span>,<span style="color:#bbb">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="15"><a style="outline: none; text-decoration:none; color:inherit" href="#15">15</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span>StartRowIndex<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>,<span style="color:#bbb">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="16"><a style="outline: none; text-decoration:none; color:inherit" href="#16">16</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span>TotalNumberOfRowsPerPage<span style="color:#000;font-weight:bold">=</span><span style="color:#099">60</span>,<span style="color:#bbb">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="17"><a style="outline: none; text-decoration:none; color:inherit" href="#17">17</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span>SearchValue<span style="color:#000;font-weight:bold">=</span>N<span style="color:#d14">&#39;&#39;</span>,<span style="color:#bbb">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="18"><a style="outline: none; text-decoration:none; color:inherit" href="#18">18</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span>OS<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1048576</span>,<span style="color:#bbb">
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="19"><a style="outline: none; text-decoration:none; color:inherit" href="#19">19</a></span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">@</span>ClassicApps<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span><span style="color:#bbb">
</span></code></pre></div><p>I manually ran this query in SQL and got this result:</p>
<p><div class="image">

<a href="2018-10-28_0-13-24.jpg" target="_blank">
  <img src="2018-10-28_0-13-24.jpg" alt="A Square Dozen Image">
</a>

</div></p>
<p>You could dig into the SQL Stored Procedure and build a report using the same functions and queries, I just haven&rsquo;t gotten THAT far into it.</p>
<h2 id="user-required-applications">User Required Applications</h2>
<p>The behavior I noticed for <strong>Required</strong> applications was slightly different. While <strong>Available</strong> applications required you to open <strong>Software Center</strong>, <strong>Required</strong> applications began installing almost immediately after unlocking. (Note, I left Software Center open for the video, but even with it closed, the application will auto install just after unlock.)</p>
<p><div class="image">

  <figure>
    <a href="2018-10-28_22-05-12.gif" target="_blank">
      <img src="2018-10-28_22-05-12.gif" alt="User Required application auto installing after Unlock.">
    </a>
    <figcaption>User Required application auto installing after Unlock.</figcaption>
  </figure>

</div></p>
<h2 id="what-does-this-all-mean">What Does This All Mean?</h2>
<p>If you&rsquo;ve used ConfigMgr for any length of time, you know that most <strong>Software Center</strong> related delays are a result of <strong>Collection Membership Updates</strong> and <strong>Client Policy Processing</strong>. In my environment, our collections take ~30 mins to process fully. We have a web portal for users to request applications that adds their devices to collections, updates membership then triggers client policy updates. This has always lead to users complaining that their apps aren&rsquo;t available yet. If we were to switch over to <strong>User Available</strong> application deployments, we could reduce the number of wasted hours trying to make applications show up for impatient users.
I know there are licensing and other issues that potentially cause this to fall apart for some companies/applications, but User-based Application deployments should be the norm. Windows Store for Business, Intune and AutoPilot are all User-Centric in their application delivery and moving ConfigMgr over to the same model should help us stay current with <strong>Modern Device Management</strong>. It sure will make hardware lifecycle and device replacements much less painful for users.</p>

			</div>
			
			<div class="post-share">
				<div class="post-share-box share-comments">
					hello
				</div>
			</div>
			<div class="post-author">
			</div>
			
			<script src="https://utteranc.es/client.js"
				repo="AdamGrossTX/asquaredozen"
				issue-term="title"
				label="blog comment"
				theme="github-light"
				crossorigin="anonymous"
				async>
			</script>
		</article>

						</div>
						<aside id="sidebar">
	<div class="widget widget_search">
		<form role="search" method="get" action="https://www.google.com/search" id="searchform">
			<input type="search" placeholder="Search and hit enter..." value="" name="q" id="q" title="Search and hit enter...">
			<input type="hidden" name="sitesearch" value="asquaredozen.com">
			<button type="submit" value="Search"/>
		</form>
		</div>
	<div>
	<div class="widget widget_MVP">
		<a href="https://mvp.microsoft.com/en-us/PublicProfile/5003519?fullName=Adam%20Gross" target="_blank">
		<img src="/img/MVP_Logo_Horizontal_Secondary_Black_RGB_300ppi.png">
		</a>
	</div>	
	<div class="widget widget_recent_entries">
		<h4 class="widget-title">Recent Posts</h4>
		<ul>
			
			<li><a href="/2021/02/04/using-configmgr-run-scripts-and-microsoft-quick-assist-to-repair-a-broken-domain-trust-relationship/" target="_blank">Using ConfigMgr Run Scripts and Microsoft Quick Assist to Repair a Broken Domain Trust Relationship</a></li>
			
			<li><a href="/2021/01/12/how-to-find-settings-preventing-application-deletion-in-configmgr/" target="_blank">How to find Settings Preventing Application Deletion in ConfigMgr</a></li>
			
			<li><a href="/2020/12/02/autopilot-profile-causes-device-rename-after-configmgr-osd-task-sequence-and-breaks-ad-domain-trust/" target="_blank">Autopilot Profile causes Device Rename after ConfigMgr OSD Task Sequence and Breaks AD Domain Trust</a></li>
			
			<li><a href="/2020/09/30/new-post-on-sysmansquad-com-configmgr-and-the-case-of-the-mysterious-3da228be-34da-49f4-a081-66465b077429-folder/" target="_blank">New Post on SysManSquad.com – ConfigMgr and The Case of the Mysterious {3DA228BE-34DA-49f4-A081-66465B077429} Folder</a></li>
			
			<li><a href="/2020/09/13/windows-10-feature-updates-testing-the-migneo-disable-parameter/" target="_blank">Windows 10 Feature Updates – Testing the /MigNEO Disable Parameter</a></li>
			
		</ul>
	</div>
	<div class="widget widget_SCD">
		<h4 class="widget-title">Consulting</h4>
		<a href="https://systemcenterdudes.com/sccm-consulting-services/?ref=5&campaign=Consulting" target="_blank">
		<img src="/img/SCDLogo.png">
		</a>
	</div>
	<div class="widget widget_SCD">
		<h4 class="widget-title">Intune.Training</h4>
		<a href="http://intune.training" target="_blank">
		<img src="/img/ITLogo.png">
		</a>
	</div>	
</aside>

					</div>
				</div>
				<footer id="footer">
	<div class="container">
		<div id="footer-copyright">
			<p class="copyright">&copy; 2021 Adam Gross - https://blog.asquaredozen.com - A Square Dozen</a></p>
		</div>
	</div>
</footer>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script src="css/SlickNav/jquery.slicknav.js"></script>
			</div>
		</body>
</html>
